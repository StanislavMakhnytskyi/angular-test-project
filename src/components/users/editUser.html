<div class="container">

  <div ng-include="'components/navbar/navbar.html'"></div>

  <div class="row">
    <div class="col-sm-6 col-sm-offset-3">

      <div class="panel panel-default">
        <div class="panel-body">

          <form class="form-horizontal" ng-submit="submit()" name="editUserForm" novalidate=""
                ng-hide="successfullyEdited">

            <div class="form-group">
              <label for="firstName" class="col-sm-3 control-label">First name</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" id="firstName" name="firstName" placeholder="First name"
                       ng-model="user.firstName"
                       ng-maxlength="255"
                       required>

                <div
                  ng-show="(editUserForm.firstName.$invalid && editUserForm.firstName.$dirty) || submitted">
                  <small class="text-danger" ng-show="editUserForm.firstName.$error.required">
                    Please input a first name.
                  </small>
                  <small class="text-danger" ng-show="editUserForm.firstName.$error.maxlength">
                    Name of user can't be more than 255 chars long.
                  </small>
                </div>

              </div>
            </div>

            <div class="form-group">
              <label for="lastName" class="col-sm-3 control-label">Last name</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Last name"
                       ng-model="user.lastName"
                       ng-maxlength="255"
                       required>

                <div ng-show="(editUserForm.lastName.$invalid && editUserForm.lastName.$dirty) || submitted">
                  <small class="text-danger" ng-show="editUserForm.lastName.$error.required">
                    Please input a last name.
                  </small>
                  <small class="text-danger" ng-show="editUserForm.lastName.$error.maxlength">
                    Last name can't be more than 255 chars long.
                  </small>
                </div>

              </div>
            </div>

            <div class="form-group">
              <label for="email" class="col-sm-3 control-label">Email</label>
              <div class="col-sm-8">
                <input type="email" class="form-control" id="email" name="email" placeholder="Email"
                       ng-model="user.email"
                       required>

                <div ng-show="(editUserForm.email.$invalid && editUserForm.email.$dirty) || submitted">
                  <small class="text-danger" ng-show="editUserForm.email.$error.required">Please input a email.</small>
                  <small class="text-danger" ng-show="editUserForm.email.$error.email">Invalid email address.
                  </small>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="lastName" class="col-sm-3 control-label">Phone</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" id="phone" name="phone" placeholder="Phone"
                       ng-model="user.phone"
                       ng-pattern="phoneNumberPattern"
                       required>

                <div ng-show="(editUserForm.phone.$invalid && editUserForm.phone.$dirty) || submitted">
                  <small class="text-danger" ng-show="editUserForm.phone.$error.required">
                    Please input a phone.
                  </small>
                  <small class="text-danger" ng-show="editUserForm.phone.$error.pattern">
                    Please input a valid phone number, for example 0991234567.
                  </small>
                </div>

              </div>
            </div>



            <div class="form-group">
              <div class="col-sm-offset-3 col-sm-3">
                <button type="button" class="btn btn-default" ng-click="changePassword = ! changePassword">Change
                  password
                </button>
              </div>
            </div>

            <div class="form-group" ng-show="changePassword">
              <label for="password" class="col-sm-3 control-label">Password</label>
              <div class="col-sm-8">
                <input type="password" class="form-control" id="password" name="password" placeholder="Password"
                       ng-model="user.password"
                       ng-pattern="/[a-zA-Z0-9]/"
                       ng-minlength="6"
                       ng-maxlength="16"
                       required>

                <div ng-show="(editUserForm.password.$invalid && editUserForm.password.$dirty) || submitted">
                  <small class="text-danger" ng-show="editUserForm.password.$error.required">Please input a password.
                  </small>
                  <small class="text-danger" ng-show="editUserForm.password.$error.minlength">Your password is
                    required to be at least 6 characters
                  </small>
                  <small class="text-danger" ng-show="editUserForm.password.$error.maxlength">Your password cannot
                    be longer than 16 characters
                  </small>
                </div>

              </div>
            </div>

            <div class="form-group" ng-show="changePassword">
              <label for="confirmPassword" class="col-sm-3 control-label">Confirm password</label>
              <div class="col-sm-8">
                <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
                       placeholder="Confirm password"
                       ng-model="user.confirmPassword"
                       ng-pattern="/[a-zA-Z0-9]/"
                       ng-minlength="6"
                       ng-maxlength="16"
                       data-match="user.password"
                       required>

                <div
                  ng-show="(editUserForm.confirmPassword.$invalid && editUserForm.confirmPassword.$dirty) || submitted">
                  <small class="text-danger" ng-show="editUserForm.confirmPassword.$error.required">Please input a
                    password.
                  </small>
                  <small class="text-danger" ng-show="editUserForm.confirmPassword.$error.minlength">Your password is
                    required to be at least 6 characters
                  </small>
                  <small class="text-danger" ng-show="editUserForm.confirmPassword.$error.maxlength">Your password
                    cannot
                    be longer than 16 characters
                  </small>
                  <small class="text-danger" data-ng-show="editUserForm.confirmPassword.$error.match">
                    Passwords do not match!
                  </small>
                </div>

              </div>
            </div>

            <div class="form-group">
              <div class="col-sm-offset-3 col-sm-3">
                <button type="submit" class="btn btn-success">Save</button>
              </div>

              <div class="col-sm-offset-3 col-sm-3">
                <button type="button" class="btn btn-default" ng-click="backToIndex()">Cancel</button>
              </div>
            </div>

          </form>

          <h1 class="text-center" ng-show="successfullyEdited">User successfully edited</h1>
        </div>
      </div>
    </div>
  </div>

</div>
